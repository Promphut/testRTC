<% include header.html %>

<h1> Realtime communication with WebRTC </h1>

<video autoplay></video>

<script>
        navigator.getUserMedia = navigator.getUserMedia ||
        navigator.webkitGetUserMedia || navigator.mozGetUserMedia;

        var constraints = {
                audio: false,
                video: true
        };
        var video = document.querySelector('video');

        function successCallback(stream) {
        window.stream = stream; // stream available to console
        if (window.URL) {
        video.src = window.URL.createObjectURL(stream);
        } else {
        video.src = stream;
        }
        }

        function errorCallback(error) {
        console.log('navigator.getUserMedia error: ', error);
        }

        navigator.getUserMedia(constraints, successCallback, errorCallback);
                
</script>


<!--<video height="300" id="localVideo"></video>
        <div id="remotesVideos"></div>
        
        <script>
            var webrtc = new SimpleWebRTC({
               // the id/element dom element that will hold "our" video
               localVideoEl: 'localVideo',
               // the id/element dom element that will hold remote videos
                remoteVideosEl: 'remotesVideos',
                // immediately ask for camera access
                autoRequestMedia: true
                });
                // we have to wait until it's ready
                webrtc.on('readyToCall', function () {
                // you can name it anything
                webrtc.joinRoom('football775');
                });
        </script>-->
<% include footer.html %>